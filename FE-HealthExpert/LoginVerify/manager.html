<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Account List</title>
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
</head>

<body>

    <h2>Account List</h2>

    <button id="showButton">Show Data</button>

    <table border="1">
        <thead>
            <tr>
                <th>Username</th>
                <th>Password</th>
                <th>Email</th>
                <th>Phone</th>
                <th>Full Name</th>
                <th>Gender</th>
                <th>Birth Date</th>
            </tr>
        </thead>
        <tbody id="accountTableBody">
            <!-- Table rows will be added here -->
        </tbody>
    </table>

    <script>
        // Function to fetch account data from the API
        function fetchAccountData() {
            $.ajax({
                url: 'https://localhost:7158/api/Account',
                method: 'GET',
                dataType: 'json',
                success: function (data) {
                    // Call function to populate the table with account data
                    populateAccountTable(data);
                },
                error: function (error) {
                    console.error('Error fetching account data:', error);
                }
            });
        }

        // Function to populate the table with account data
        function populateAccountTable(accountList) {
            var tableBody = $('#accountTableBody');

            // Clear existing rows
            tableBody.empty();

            // Loop through the account list and add rows to the table
            $.each(accountList, function (index, account) {
                var row = $('<tr>');
                row.append($('<td>').text(account.userName));
                row.append($('<td>').text(account.password));
                row.append($('<td>').text(account.email));
                row.append($('<td>').text(account.phone));
                row.append($('<td>').text(account.fullName));
                row.append($('<td>').text(account.gender));
                row.append($('<td>').text(account.birthDate));
                tableBody.append(row);
            });
        }

        // Event listener for the "Show Data" button
        $('#showButton').on('click', function () {
            fetchAccountData();
        });

        // Fetch account data when the page is loaded (optional)
        // fetchAccountData();
    </script>

</body>

</html>